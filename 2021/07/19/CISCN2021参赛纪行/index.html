<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>CISCN2021参赛纪行 | in1t's blog</title><meta name="keywords" content="CTF,生活"><meta name="author" content="in1t"><meta name="copyright" content="in1t"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="今年的国赛是以学校名义去打的，队伍名是 fr3e，和我一个队的还有 web 狗 Dem0，pwn 佬 now4yreal 和 Wi1L，这里记一下比赛全程的流水账">
<meta property="og:type" content="article">
<meta property="og:title" content="CISCN2021参赛纪行">
<meta property="og:url" content="https://in1t.top/2021/07/19/CISCN2021%E5%8F%82%E8%B5%9B%E7%BA%AA%E8%A1%8C/index.html">
<meta property="og:site_name" content="in1t&#39;s blog">
<meta property="og:description" content="今年的国赛是以学校名义去打的，队伍名是 fr3e，和我一个队的还有 web 狗 Dem0，pwn 佬 now4yreal 和 Wi1L，这里记一下比赛全程的流水账">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://in1t.top/img/cover/ciscn2021.jpg">
<meta property="article:published_time" content="2021-07-19T10:34:26.000Z">
<meta property="article:modified_time" content="2021-07-19T16:44:07.351Z">
<meta property="article:author" content="in1t">
<meta property="article:tag" content="CTF">
<meta property="article:tag" content="生活">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://in1t.top/img/cover/ciscn2021.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://in1t.top/2021/07/19/CISCN2021%E5%8F%82%E8%B5%9B%E7%BA%AA%E8%A1%8C/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'CISCN2021参赛纪行',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-07-20 00:44:07'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="wizard-scene"><div class="wizard-objects"><div class="wizard-square"></div><div class="wizard-circle"></div><div class="wizard-triangle"></div></div><div class="wizard"><div class="wizard-body"></div><div class="wizard-right-arm"><div class="wizard-right-hand"></div></div><div class="wizard-left-arm"><div class="wizard-left-hand"></div></div><div class="wizard-head"><div class="wizard-beard"></div><div class="wizard-face"><div class="wizard-adds"></div></div><div class="wizard-hat"><div class="wizard-hat-of-the-hat"></div><div class="wizard-four-point-star --first"></div><div class="wizard-four-point-star --second"></div><div class="wizard-four-point-star --third"></div></div></div></div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">45</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">17</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/bangumis/"><i class="fa-fw fas fa-play-circle"></i><span> 番剧</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/cover/ciscn2021.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">in1t's blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/bangumis/"><i class="fa-fw fas fa-play-circle"></i><span> 番剧</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">CISCN2021参赛纪行</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-07-19T10:34:26.000Z" title="发表于 2021-07-19 18:34:26">2021-07-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-07-19T16:44:07.351Z" title="更新于 2021-07-20 00:44:07">2021-07-20</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>10分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>今年的国赛是以学校名义去打的，队伍名是 fr3e，和我一个队的还有 web 狗 Dem0，pwn 佬 now4yreal 和 Wi1L</p>
<h2 id="初赛"><a href="#初赛" class="headerlink" title="初赛"></a>初赛</h2><p>比赛时间是 5 月 15、16 号，初赛延续了以往的传统，上午 9 点到 11 点先整了两个小时的知识问答，150 道单选，50 道多选。基本一问三不知，每次做完都会怀疑自己究竟是不是信安专业的</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/article/20210719/1.png" alt="知识问答"></p>
<p>然后是强度拉满的 22 小时 CTF（15 号 11 点到 16 号早上 9 点），当时是有事在天津，我缩在酒店里打了一天。第二天早上 9 点硬着头皮去航母主题公园参加学校的团建，人走在路上都要睡着了，但是看到了很多在舰 R 里认识的船，还被路边一个像老虎机的东西骗了 10 块钱，也是不虚此行了</p>
<p>具体说说 CTF 的参赛经历吧。整活还得看国赛，今年的赛制依旧发挥稳定，没有让人失望，来欣赏一下 360 定的操作手册：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/article/20210719/2.png" alt="初赛"></p>
<p>三张卷子的名字也很搞：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/article/20210719/3.png" alt="初赛"></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/article/20210719/4.png" alt="初赛"></p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/article/20210719/5.png" alt="初赛"></p>
<p>在 b 乎上收了一张十分形象的图：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/article/20210719/6.jpg" alt="初赛"></p>
<p>大家都调侃今年是 CTF 高考元年，喷的较为理性的有两点，作为当事人感触很深</p>
<ul>
<li>阴间的放题时间及强制熬夜打比赛</li>
<li>py 现象还是没有改善</li>
</ul>
<p>作为一个超高校级划水逆向，三张卷子有 5 道 re，只会做 3 道</p>
<ol>
<li>签到：忘了反正挺简单的</li>
<li>golang：没有符号，恢复的脚本跑不通，没有 IDA 7.6，花两个小时找到核心逻辑。嗯，有几万次的递归，递归完会直接输出 flag，不会优化，卒</li>
<li>ruby：之前接触过，把虚拟文件系统提取出来拿到 ruby 脚本，还能做</li>
<li>baby.bc：这东西是啥？哦，llvm 编译的中间产物，工具链装一下，编译成 elf。IDA 分析，是一个条件更苛刻的幻方，不会算法，手填</li>
<li>HMI：C# 写的工控题，modbus 协议没搞过，我甚至无法让题目中的那些仪器和观测值动起来，抬走</li>
</ol>
<p>熬到 4 点钟实在是肝不动了，当时都放弃 HMI 在做 misc 了，没想到还整出来一道，于是直接躺平睡到比赛结束去团建（事实是提前起来补写 wp）。好在可靠的队友其他方向都解了很多题，将我抬进了分区赛，也感谢其他队的师傅们高抬贵手，py 都是点到为止（虽然最后 10 分钟的冲分场面依旧很壮观），甚至有人 py 到了作品赛的群 233</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/article/20210719/7.jpg" alt="初赛"></p>
<p>但有的师傅就没有这么幸运了</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/article/20210719/8.png" alt="初赛"></p>
<p>比赛规定一个学校最多进两个队，北邮包揽了全国的一二三名，导致出现全国第三无缘复赛的尴尬场面，最后天璇（成员都是研究生往上）主动退出，让还都是本科生的天枢和 Flybugs 进了复赛</p>
<br>

<h2 id="分区赛"><a href="#分区赛" class="headerlink" title="分区赛"></a>分区赛</h2><p>比赛时间是 6 月 26、27 两天，今年的分区赛来到了去年的决赛场所 —— 华中科技大学。不得不说，第一所网安基地还是有牌面啊，这次的比赛场地不是网安学院旁边的那个大展馆了，而是黄鹤网络攻防实验室，技术支持是绿盟</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/article/20210719/9.png" alt="分区赛"></p>
<p>赛制的话，第一天是 CTF，第二天是 AWD</p>
<p>CTF 的题目难度分布着实有些迷，我一个 re，把 misc AK 了，还和 web 手一起做了两个 crypto，然后 re 只解了一道……最让我无法接受的是比赛过程中<strong>禁止使用手机</strong>，然后 re 里出了两道 apk？？？模拟器又装不上，调都没法调试，最后两道 apk，一道 1 解，一道 0 解，很迷</p>
<p>做完第一道 re，我纯静态看了俩小时 apk，决定放弃，直接打开也是 0 解的分值最高的一道 re。看了一会儿发现可以做，就是校验 flag 的逻辑比较长，它把输入分为了三段来分别检查，一通操作 + 动调后，解出前两段，抬头看时间，只剩 10 分钟，卒</p>
<p>第二天打 AWD，9 点开赛，先 fix（加固） 40 分钟，再互相打，不出所料平台崩了。其实在 8 点 40 左右测试环境的时候，就很难登上平台了，每次刷新需要等待的时间越来越长。9 点正式开赛，有的人能访问平台，拿到 ssh 账号密码，绝大部分的人都还在等浏览器的圈圈转，早登进平台的人把题目下下来已经开始找后门、修洞了，我们这边还在显示 <code>您的战队已被禁赛</code></p>
<p>给绿盟现场运维反映了很多次，无果，他们选择摆烂。时间来到了 9 点半，别的队伍对于平台的访问情况有所好转，现场就我们和隔壁桌的两个队还显示被禁赛，这时候主持人来了句 “10 分钟后开放端口，选手开始攻击”，我直接绷不住了，别人都修了 30 分钟的洞，写了 30 分钟的脚本了，我连题都还没看到，你给我说 10 分钟以后别人要开始干我了？？？</p>
<p>我们再次向运维反映问题，因为其他队的网络情况恢复得差不多了，他们总算是有时间搭理我们了。然后他们说问题的原因是数据库的记录加错了，我都无力吐槽，我奶奶的数据库用得都比你绿盟明白</p>
<p>既然恢复正常了，那就登平台拿 ssh 上号吧，毕竟比赛还在进行，这些皮可以等结束以后再扯。等我们登上平台，又是一阵意想不到的惊喜，所有队伍的靶机 ssh 用户名和密码都是 ctf。不出意料，我们的两台 pwn 机登录密码被早就登上平台的其他人改了，联系运维重置环境又耽误了一段时间</p>
<p>web 这边已经炸了，靶机上全是马，于是我和队内 web 手转变策略，先只攻不防，等到得分稳定了再开始删马。因为这个时候审洞已经来不及了，所以我们上了个流量监测，开始抄流量，并套用之前准备的脚本，用别人的马种我们的马，总算是保住了一些分</p>
<p>那几个小时很折磨，颁奖之前对于到底能不能进决赛这件事心里也没个底，最后结果出来我们是第 12 名，前 13 支队伍都是一等奖，都可以进决赛，我们才没有找绿盟扯皮</p>
<p>后来和别的队交流，我和 Dem0 发现我们 AWD 时少打了一半的队，因为绿盟没有给其他队伍的靶机 ip，需要自己去扫，我们只扫了本网段的，谁知道附近网段还有靶机，这样还能进决赛属实是师傅们抬了一手</p>
<p>总之，这场比赛打得很糟心，隔壁桌的一个师傅打完直接哭了，他们也是被绿盟搞到 9 点 40 才登上平台。除此之外，比赛规定里写着禁止电子设备联网，现场却连个屏蔽器都没有，你是真当打 CTF 的个个都很自觉？和别的队交流的时候才知道他们在 CTF 环节网上冲浪得不要太爽，有的队在裁判组眼皮子底下上网、传题，都没被发现。他们那些队不要脸已经不是一次两次了，但为什么每次规则里明令禁止的东西，在现场监督时，却看不到承办方给予应有的重视呢？</p>
<br>

<h2 id="决赛"><a href="#决赛" class="headerlink" title="决赛"></a>决赛</h2><p>比赛时间是 7 月 17、18 号，地点是哈工大 1 校区体育馆。早就听哈工大的同学说他们那边教室、寝室没有空调，去之前还担心会不会太热，过去之后才发现这些担心都是多余的 —— 至少体育馆和酒店是有空调的。决赛的技术支持是安恒提供的，赵总、Guoke 等大佬都在后台运维，全程无尿点，平台稳定得一 b，flag 提交接口一点也不卡，简直爱了</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/article/20210719/9.jpg" alt="决赛"></p>
<p>在学校特殊情况特殊处理后，本来本科生不能上天的我们坐飞机去了哈尔滨（机票比高铁还便宜）。16 号晚上入住后，我偷偷溜出来和哈工大的同学（之前高中一个班的）去了哈尔滨有名的金刚山烧烤店吃串，串挺好吃的，见图：</p>
<div class="hide-block"><button type="button" class="hide-button button--animated" style="">点击查看图片
    </button><div class="hide-content"><p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/article/20210719/10.jpg" alt="决赛"></p>
</div></div>

<p>就是有点废耳朵，音响就在我头的正上方</p>
<div class="hide-block"><button type="button" class="hide-button button--animated" style="">点击查看视频
    </button><div class="hide-content"><video src='/video/article/20210719/1.mp4' type='video/mp4' controls='controls'  width='100%' height='100%'>
</video>
</div></div>

<p>17 号上场比赛的时候，我的右边耳朵几乎听不见声音，突发性耳聋属于是。不过无所谓，正好听不见赛场里无脑循环的两首 BGM</p>
<p>第一天的 AWD 挺稳的，虽然依旧难以审洞，但靠着主办方提供的流量也能做到题目全解，除了第一个小时，其他时间脚本一直在跑，分也渐渐攀升，排名在 18 附近波动</p>
<p>但是第一天的赛制除了 AWD，还有一个解题模式，做的是可信计算相关的题，还挺新颖。一共放了三道，只会做第一道。本来一开始看这个模式的名字我们都不想碰的，但后来我看做出来第一题的队伍越来越多，而且题目的分值很高，在安顿好 web4 之后，我就抽出身来研究可信计算</p>
<p>第一道是关于 blp 权限控制模型的，根据题目 pdf 的描述来补全权限控制框架，仔细读一遍题目要求再读读框架中已有的代码，理解意思之后，几行就能写出来，确实不是很难</p>
<p>第二和第三道是关于中间人攻击的，场景是 Alice 通过中转站向 Bob 发送加密文件，明文的文件是被一个随机数加密的，这个随机数会被 Alice 产生的公钥加密后发给 Bob，同时 Alice 也会给 Bob 发送她的公钥。攻击者扮演中间人，可以 hook 中转站的一些消息发送、接收的函数，只要能通过劫持的信息还原出明文文件，并欺骗 Alice 和 Bob，让他们认为双方在正常沟通，就能得到 flag</p>
<p>第二题我写完以后本地测试是对的，连上题目服务器测试死活不对，唉，只能说 GG</p>
<p>最后 AWD 和可信计算的分按规则加起来后，我们排到了 31 名，第一天的分数占总成绩的 70%，可以说基本奠定大局</p>
<p>晚上在哈工大同学的带领下，体会了一次铁锅炖，以及哈尔滨特有的正宗秋林-格瓦斯：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/article/20210719/11.jpg" alt="决赛"></p>
<p>差点忘了中央大街的马迭尔冰棍：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/article/20210719/12.jpg" alt="决赛"></p>
<p>第二天就是一上午的 Break &amp; Fix，即 CTF。4 道 web、3 道 pwn，时间只有三小时。我和 Dem0 一直在看 easy_python 那道 ssti 模板攻击，很早就把 waf 绕过去，都读到题目源码和根目录下的所有文件了，我们甚至能查看 /etc/passwd 的内容，可就是无法查看 /flag.txt 的内容，想尽一切办法恢复被剔除的 subprocess 模块，但似乎恢复了还是不能直接读 flag，然后那道题果然到最后还是 0 解……</p>
<p>break 环节结束时，队里的 pwn 佬出了一道，然后我们 fix 把 easy_python 和出的那道 pwn 修好了，第二天的排名挺靠前的，奈何第二天的成绩只占 15%，终究只使得我们在总排名上较第一天前进了一名，喜提国二</p>
<p>总的来说，安恒的比赛打得很舒服，题目质量不错，运维专业团队，32 台服务器足以体现安恒对于比赛的重视，这才叫技术支持，希望有的公司好好看，好好学</p>
<p>第二天晚上的话，是华为赞助的晚宴，最后有抽奖环节，三等奖是手环或智能摄像头，二等奖是 FreeBuds，一等奖是 GT2 Pro 手表，特等奖是 Mate 40 手机，我拿到的是 19 号：</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/article/20210719/13.jpg" alt="决赛"></p>
<p>然后又是 50% 中奖率我啥也没抽到，和去年的剧情一样，麻了。晚宴还没吃饱，凌晨又点了个外卖，香！</p>
<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/article/20210719/14.jpg" alt="决赛"></p>
<br>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>这几场打下来，还是安恒支持的比赛体验更好，其实其他的安全公司完全没必要在赛程中专门拿个 PPT 来见缝插针地介绍自己，办好每场比赛，给选手们好的体验，才是最好的广告。有的公司非要和选手站在对立面，用一种爱要不要的摆烂心态来面对选手需求和质疑，我就想知道，b 乎上不挂你挂谁？</p>
<p>另外，AWD 我还是菜啊，一定是我流量抄得不够快，正好准备用一年时间开发一个 AWD 攻击框架，不想再当脚本小子了 555</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">in1t</a></span></div><div class="post-cover__authorid"><span class="post-copyright-meta">封面画师: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://www.pixiv.net/users/9790122">9790122</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://in1t.top/2021/07/19/CISCN2021%E5%8F%82%E8%B5%9B%E7%BA%AA%E8%A1%8C/">https://in1t.top/2021/07/19/CISCN2021参赛纪行/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://in1t.top" target="_blank">in1t's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/CTF/">CTF</a><a class="post-meta__tags" href="/tags/%E7%94%9F%E6%B4%BB/">生活</a></div><div class="post_share"><div class="social-share" data-image="/img/cover/ciscn2021.jpg" data-sites="wechat,qq,weibo,facebook,twitter"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/09/23/Koi-Bot%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E8%AE%B0%E5%BD%95/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/cover/koi_bot.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Koi Bot项目开发记录</div></div></a></div><div class="next-post pull-right"><a href="/2021/07/09/%E5%85%B3%E4%BA%8E%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A2%98%E6%9B%B4%E6%96%B0%E7%9A%84%E4%BA%8C%E4%B8%89%E4%BA%8B/"><img class="next-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/cover/updatetheme.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">关于博客主题更新的二三事</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/02/27/HGAME2021-Re-Misc-wp/" title="HGAME2021 Re&Misc wp"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/cover/hgame2021.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-02-27</div><div class="title">HGAME2021 Re&Misc wp</div></div></a></div><div><a href="/2021/07/09/关于博客主题更新的二三事/" title="关于博客主题更新的二三事"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/cover/updatetheme.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-09</div><div class="title">关于博客主题更新的二三事</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E8%B5%9B"><span class="toc-number">1.</span> <span class="toc-text">初赛</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E5%8C%BA%E8%B5%9B"><span class="toc-number">2.</span> <span class="toc-text">分区赛</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%B3%E8%B5%9B"><span class="toc-number">3.</span> <span class="toc-text">决赛</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">4.</span> <span class="toc-text">总结</span></a></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('/img/cover/ciscn2021.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By in1t</div><div class="footer_custom_text"><p><a style="margin-inline:5px" target="_blank" href="https://hexo.io/"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为Hexo"></a><a style="margin-inline:5px" target="_blank" href="https://butterfly.js.org/"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-orange?style=flat&logo=bitdefender" title="主题采用butterfly"></a><a style="margin-inline:5px" target="_blank" href="https://github.com/"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://img.shields.io/badge/Source-Github-brightgreen?style=flat&logo=GitHub" title="本站项目由Gtihub托管"></a><a style="margin-inline:5px" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><script async="async">var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())
setTimeout(function(){preloader.endLoading();}, 5000);</script><div class="js-pjax"></div><script defer src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script defer src="/js/modify.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="false" data-text="💐,🌸,💮,🏵,🌹,🥀,🌺,🌻,🌼,🌷,🌱,🌲,🌳,🌴,🌵,🌾,🌿,☘,🍀,🍁,🍂,🍃,🍇,🍈,🍉,🍊,🍋,🍌,🍍,🍎,🍏,🍐,🍑,🍒,🍓,🥝,🍅,🥥,🥑,🍆,🥔,🥕,🌽,🌶,🥒,🥬,🥦,🧄,🧅,🍄,🥜,🌰,🍞,🥐,🥖,🥨,🥯,🥞,🧇,🧀,🍖,🍗,🥩,🥓,🍔,🍟,🍕,🌭,🥪,🌮,🌯,🥙,🧆,🥚,🍳,🥘,🍲,🥣,🥗,🍿,🧈,🧂,🥫,🍱,🍘,🍙,🍚,🍛,🍜,🍠,🍢,🍣,🍤,🍥,🥮,🍡,🥟,🥠,🥡,🦪,🍨,🍩,🍪,🎂,🍰,🧁,🥧,🍫,🍬,🍭,🍮,🍯,🍼,🥛,☕,🍵,🍶,🍾,🍷,🍹,🍻,🥂,🥃,🥤,🧃,🧉,🧊,🥢,🍽,🥄" data-fontsize="20px" data-random="false" async="async"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300,"hOffset":20,"vOffset":-65},"mobile":{"show":false},"react":{"opacity":0.7},"log":false});</script></body></html>